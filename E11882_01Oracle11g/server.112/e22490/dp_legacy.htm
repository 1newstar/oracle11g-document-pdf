<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Data Pump Legacy Mode</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748" />
<meta name="dcterms.created" content="2014-04-17T12:23:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Utilities" />
<meta name="dcterms.identifier" content="E22490-07" />
<meta name="dcterms.isVersionOf" content="SUTIL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dp_import.htm" title="Previous" type="text/html" />
<link rel="Next" href="dp_perf.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e22490.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/36</span> <!-- End Header -->
<div id="SUTIL959" class="chapter"><a id="CHDEDFFG"></a>
<h1 class="chapter"><span class="secnum">4</span> Data Pump Legacy Mode</h1>
<p>If you use original Export (exp) and Import (imp), then you may have scripts you have been using for many years. To ease the transition to the newer Data Pump Export and Import utilities, Data Pump provides a legacy mode<a id="sthref357"></a><a id="sthref358"></a> which allows you to continue to use your existing scripts with Data Pump.</p>
<p>Data Pump enters legacy mode once it determines a parameter unique to original Export or Import is present, either on the command line or in a script. As Data Pump processes the parameter, the analogous Data Pump Export or Data Pump Import parameter is displayed. Oracle strongly recommends that you view the new syntax and make script changes as time permits.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Data Pump Export and Import only handle dump files and log files in the Data Pump format. They never create or read dump files compatible with original Export or Import. If you have a dump file created with original Export, then you must use original Import to import the data into the database.</div>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#CHDHFBJH">Parameter Mappings</a></p>
</li>
<li>
<p><a href="#CHDFGAJF">Management of File Locations in Data Pump Legacy Mode</a></p>
</li>
<li>
<p><a href="#CHDJJFFD">Adjusting Existing Scripts for Data Pump Log Files and Errors</a></p>
</li>
</ul>
<a id="CHDHFBJH"></a>
<div id="SUTIL960" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Parameter Mappings</h2>
<p>This section describes how original Export and Import parameters map to the Data Pump Export and Import parameters that supply similar functionality.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="dp_export.htm#g1022624">Chapter 2, "Data Pump Export"</a></p>
</li>
<li>
<p><a href="dp_import.htm#g1025464">Chapter 3, "Data Pump Import"</a></p>
</li>
<li>
<p><a href="original_export.htm#BABBHCIE">Chapter 21, "Original Export"</a></p>
</li>
<li>
<p><a href="original_import.htm#g1070082">Chapter 22, "Original Import"</a></p>
</li>
</ul>
</div>
<div id="SUTIL961" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref359"></a>
<h3 class="sect2">Using Original Export Parameters with Data Pump</h3>
<p>Data Pump Export accepts original Export parameters when they map to a corresponding Data Pump parameter. <a href="#g1013199">Table 4-1</a> describes how Data Pump Export interprets original Export parameters. Parameters that have the same name and functionality in both original Export and Data Pump Export are not included in this table.</p>
<div id="SUTIL3305" class="tblruleformalwide">
<p class="titleintable"><a id="sthref360"></a><a id="g1013199"></a>Table 4-1 How Data Pump Export Handles Original Export Parameters</p>
<table class="cellalignment1399" title="How Data Pump Export Handles Original Export Parameters" summary="Original Export parameters compared to Data Pump Export parameters" dir="ltr">
<thead>
<tr class="cellalignment1388">
<th class="cellalignment1395" id="r1c1-t4">Original Export Parameter</th>
<th class="cellalignment1395" id="r1c2-t4">Action Taken by Data Pump Export Parameter</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r2c1-t4" headers="r1c1-t4">
<pre>
BUFFER
</pre></td>
<td class="cellalignment1396" headers="r2c1-t4 r1c2-t4">
<p>This parameter is ignored.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r3c1-t4" headers="r1c1-t4">
<pre>
COMPRESS
</pre></td>
<td class="cellalignment1396" headers="r3c1-t4 r1c2-t4">
<p>This parameter is ignored. In original Export, the <code>COMPRESS</code> parameter affected how the initial extent was managed. Setting <code>COMPRESS=n</code> caused original Export to use current storage parameters for the initial and next extent.</p>
<p>The Data Pump Export <code>COMPRESSION</code> parameter is used to specify how data is compressed in the dump file, and is not related to the original Export <code>COMPRESS</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r4c1-t4" headers="r1c1-t4">
<pre>
CONSISTENT
</pre></td>
<td class="cellalignment1396" headers="r4c1-t4 r1c2-t4">
<p>Data Pump Export determines the current time and uses <code>FLASHBACK_TIME</code>.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r5c1-t4" headers="r1c1-t4">
<p><code>CONSTRAINTS</code></p>
</td>
<td class="cellalignment1396" headers="r5c1-t4 r1c2-t4">
<p>If original Export used <code>CONSTRAINTS=n</code>, then Data Pump Export uses <code>EXCLUDE=CONSTRAINTS</code>.</p>
<p>The default behavior is to include constraints as part of the export.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r6c1-t4" headers="r1c1-t4">
<pre>
DIRECT 
</pre></td>
<td class="cellalignment1396" headers="r6c1-t4 r1c2-t4">
<p>This parameter is ignored. Data Pump Export automatically chooses the best export method.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r7c1-t4" headers="r1c1-t4">
<pre>
FEEDBACK
</pre></td>
<td class="cellalignment1396" headers="r7c1-t4 r1c2-t4">
<p>The Data Pump Export <code>STATUS=30</code> command is used. Note that this is not a direct mapping because the <code>STATUS</code> command returns the status of the export job, as well as the rows being processed.</p>
<p>In original Export, feedback was given after a certain number of rows, as specified with the <code>FEEDBACK</code> command. In Data Pump Export, the status is given every so many seconds, as specified by <code>STATUS</code>.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r8c1-t4" headers="r1c1-t4">
<pre>
FILE
</pre></td>
<td class="cellalignment1396" headers="r8c1-t4 r1c2-t4">
<p>Data Pump Export attempts to determine the path that was specified or defaulted to for the <code>FILE</code> parameter, and also to determine whether a directory object exists to which the schema has read and write access.</p>
<p>See <a href="#CHDFGAJF">"Management of File Locations in Data Pump Legacy Mode"</a> for more information about how Data Pump handles the original Export <code>FILE</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r9c1-t4" headers="r1c1-t4">
<pre>
GRANTS
</pre></td>
<td class="cellalignment1396" headers="r9c1-t4 r1c2-t4">
<p>If original Export used <code>GRANTS=n</code>, then Data Pump Export uses <code>EXCLUDE=GRANT</code>.</p>
<p>If original Export used <code>GRANTS=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Export default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r10c1-t4" headers="r1c1-t4">
<pre>
INDEXES
</pre></td>
<td class="cellalignment1396" headers="r10c1-t4 r1c2-t4">
<p>If original Export used <code>INDEXES=n</code>, then Data Pump Export uses the <code>EXCLUDE=INDEX</code> parameter.</p>
<p>If original Export used <code>INDEXES=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Export default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r11c1-t4" headers="r1c1-t4">
<p><code>LOG</code></p>
</td>
<td class="cellalignment1396" headers="r11c1-t4 r1c2-t4">
<p>Data Pump Export attempts to determine the path that was specified or defaulted to for the <code>LOG</code> parameter, and also to determine whether a directory object exists to which the schema has read and write access.</p>
<p>See <a href="#CHDFGAJF">"Management of File Locations in Data Pump Legacy Mode"</a> for more information about how Data Pump handles the original Export <code>LOG</code> parameter.</p>
<p>The contents of the log file will be those of a Data Pump Export operation. See <a href="#CHDHJDJI">"Log Files"</a> for information about log file location and content.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r12c1-t4" headers="r1c1-t4">
<pre>
OBJECT_CONSISTENT
</pre></td>
<td class="cellalignment1396" headers="r12c1-t4 r1c2-t4">
<p>This parameter is ignored because Data Pump Export processing ensures that each object is in a consistent state when being exported.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r13c1-t4" headers="r1c1-t4">
<pre>
OWNER
</pre></td>
<td class="cellalignment1396" headers="r13c1-t4 r1c2-t4">
<p>The Data Pump <code>SCHEMAS</code> parameter is used.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r14c1-t4" headers="r1c1-t4">
<pre>
RECORDLENGTH
</pre></td>
<td class="cellalignment1396" headers="r14c1-t4 r1c2-t4">
<p>This parameter is ignored because Data Pump Export automatically takes care of buffer sizing.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r15c1-t4" headers="r1c1-t4">
<pre>
RESUMABLE
</pre></td>
<td class="cellalignment1396" headers="r15c1-t4 r1c2-t4">
<p>This parameter is ignored because Data Pump Export automatically provides this functionality to users who have been granted the <code>EXP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r16c1-t4" headers="r1c1-t4">
<pre>
RESUMABLE_NAME
</pre></td>
<td class="cellalignment1396" headers="r16c1-t4 r1c2-t4">
<p>This parameter is ignored because Data Pump Export automatically provides this functionality to users who have been granted the <code>EXP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r17c1-t4" headers="r1c1-t4">
<pre>
RESUMABLE_TIMEOUT
</pre></td>
<td class="cellalignment1396" headers="r17c1-t4 r1c2-t4">
<p>This parameter is ignored because Data Pump Export automatically provides this functionality to users who have been granted the <code>EXP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r18c1-t4" headers="r1c1-t4">
<pre>
ROWS
</pre></td>
<td class="cellalignment1396" headers="r18c1-t4 r1c2-t4">
<p>If original Export used <code>ROWS=y</code>, then Data Pump Export uses the <code>CONTENT=ALL</code> parameter.</p>
<p>If original Export used <code>ROWS=n</code>, then Data Pump Export uses the <code>CONTENT=METADATA_ONLY</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r19c1-t4" headers="r1c1-t4">
<pre>
STATISTICS
</pre></td>
<td class="cellalignment1396" headers="r19c1-t4 r1c2-t4">
<p>This parameter is ignored because statistics are always saved for tables as part of a Data Pump export operation.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r20c1-t4" headers="r1c1-t4">
<pre>
TABLESPACES
</pre></td>
<td class="cellalignment1396" headers="r20c1-t4 r1c2-t4">
<p>If original Export also specified <code>TRANSPORT_TABLESPACE=n</code>, then Data Pump Export ignores the <code>TABLESPACES</code> parameter.</p>
<p>If original Export also specified <code>TRANSPORT_TABLESPACE=y</code>, then Data Pump Export takes the names listed for the <code>TABLESPACES</code> parameter and uses them on the Data Pump Export <code>TRANSPORT_TABLESPACES</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r21c1-t4" headers="r1c1-t4">
<p><code>TRANSPORT_TABLESPACE</code></p>
</td>
<td class="cellalignment1396" headers="r21c1-t4 r1c2-t4">
<p>If original Export used <code>TRANSPORT_TABLESPACE=n</code> (the default), then Data Pump Export uses the <code>TABLESPACES</code> parameter.</p>
<p>If original Export used <code>TRANSPORT_TABLESPACE=y</code>, then Data Pump Export uses the <code>TRANSPORT_TABLESPACES</code> parameter and only the metadata is exported.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r22c1-t4" headers="r1c1-t4">
<pre>
TRIGGERS
</pre></td>
<td class="cellalignment1396" headers="r22c1-t4 r1c2-t4">
<p>If original Export used <code>TRIGGERS=n</code>, then Data Pump Export uses the <code>EXCLUDE=TRIGGER</code> parameter.</p>
<p>If original Export used <code>TRIGGERS=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Export default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r23c1-t4" headers="r1c1-t4">
<pre>
TTS_FULL_CHECK
</pre></td>
<td class="cellalignment1396" headers="r23c1-t4 r1c2-t4">
<p>If original Export used <code>TTS_FULL_CHECK=y</code>, then Data Pump Export uses the <code>TRANSPORT_FULL_CHECK</code> parameter.</p>
<p>If original Export used <code>TTS_FULL_CHECK=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Export default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r24c1-t4" headers="r1c1-t4">
<pre>
VOLSIZE
</pre></td>
<td class="cellalignment1396" headers="r24c1-t4 r1c2-t4">
<p>When the original Export <code>VOLSIZE</code> parameter is used, it means the location specified for the dump file is a tape device. The Data Pump Export dump file format does not support tape devices. Therefore, this operation terminates with an error.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformalwide" --></div>
<!-- class="sect2" -->
<div id="SUTIL962" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref361"></a>
<h3 class="sect2">Using Original Import Parameters with Data Pump</h3>
<p>Data Pump Import accepts original Import parameters when they map to a corresponding Data Pump parameter. <a href="#g1016603">Table 4-2</a> describes how Data Pump Import interprets original Import parameters. Parameters that have the same name and functionality in both original Import and Data Pump Import are not included in this table.</p>
<div id="SUTIL3306" class="tblruleformalwide">
<p class="titleintable"><a id="sthref362"></a><a id="g1016603"></a>Table 4-2 How Data Pump Import Handles Original Import Parameters</p>
<table class="cellalignment1399" title="How Data Pump Import Handles Original Import Parameters" summary="Original Import parameters compared to Data Pump Import parameters" dir="ltr">
<thead>
<tr class="cellalignment1388">
<th class="cellalignment1395" id="r1c1-t5">Original Import Parameter</th>
<th class="cellalignment1395" id="r1c2-t5">Action Taken by Data Pump Import Parameter</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r2c1-t5" headers="r1c1-t5">
<pre>
BUFFER
</pre></td>
<td class="cellalignment1396" headers="r2c1-t5 r1c2-t5">
<p>This parameter is ignored.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r3c1-t5" headers="r1c1-t5">
<pre>
CHARSET
</pre></td>
<td class="cellalignment1396" headers="r3c1-t5 r1c2-t5">
<p>This parameter was desupported several releases ago and should no longer be used. It will cause the Data Pump Import operation to abort.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r4c1-t5" headers="r1c1-t5">
<pre>
COMMIT
</pre></td>
<td class="cellalignment1396" headers="r4c1-t5 r1c2-t5">
<p>This parameter is ignored. Data Pump Import automatically performs a commit after each table is processed.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r5c1-t5" headers="r1c1-t5">
<pre>
COMPILE
</pre></td>
<td class="cellalignment1396" headers="r5c1-t5 r1c2-t5">
<p>This parameter is ignored. Data Pump Import compiles procedures after they are created. A recompile can be executed if necessary for dependency reasons.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r6c1-t5" headers="r1c1-t5">
<pre>
CONSTRAINTS
</pre></td>
<td class="cellalignment1396" headers="r6c1-t5 r1c2-t5">
<p>If original Import used <code>CONSTRAINTS=n</code>, then Data Pump Import uses the <code>EXCLUDE=CONSTRAINT</code> parameter.</p>
<p>If original Import used <code>CONSTRAINTS=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Import default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r7c1-t5" headers="r1c1-t5">
<pre>
DATAFILES
</pre></td>
<td class="cellalignment1396" headers="r7c1-t5 r1c2-t5">
<p>The Data Pump Import <code>TRANSPORT_DATAFILES</code> parameter is used.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r8c1-t5" headers="r1c1-t5">
<pre>
DESTROY
</pre></td>
<td class="cellalignment1396" headers="r8c1-t5 r1c2-t5">
<p>If original Import used <code>DESTROY=y</code>, then Data Pump Import uses the <code>REUSE_DATAFILES</code><code>=y</code> parameter.</p>
<p>If original Import used <code>DESTROY=n</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Import default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r9c1-t5" headers="r1c1-t5">
<pre>
FEEDBACK
</pre></td>
<td class="cellalignment1396" headers="r9c1-t5 r1c2-t5">
<p>The Data Pump Import <code>STATUS=30</code> command is used. Note that this is not a direct mapping because the <code>STATUS</code> command returns the status of the import job, as well as the rows being processed.</p>
<p>In original Import, feedback was given after a certain number of rows, as specified with the <code>FEEDBACK</code> command. In Data Pump Import, the status is given every so many seconds, as specified by <code>STATUS.</code></p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r10c1-t5" headers="r1c1-t5">
<p><code>FILE</code></p>
</td>
<td class="cellalignment1396" headers="r10c1-t5 r1c2-t5">
<p>Data Pump Import attempts to determine the path that was specified or defaulted to for the <code>FILE</code> parameter, and also to determine whether a directory object exists to which the schema has read and write access.</p>
<p>See <a href="#CHDFGAJF">"Management of File Locations in Data Pump Legacy Mode"</a> for more information about how Data Pump handles the original Import <code>FILE</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r11c1-t5" headers="r1c1-t5">
<pre>
FILESIZE
</pre></td>
<td class="cellalignment1396" headers="r11c1-t5 r1c2-t5">
<p>This parameter is ignored because the information is already contained in the Data Pump dump file set.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r12c1-t5" headers="r1c1-t5">
<p><code>FROMUSER</code></p>
</td>
<td class="cellalignment1396" headers="r12c1-t5 r1c2-t5">
<p>The Data Pump Import <code>SCHEMAS</code> parameter is used. If <code>FROMUSER</code> was used without <code>TOUSER</code> also being used, then import schemas that have the <code>IMP_FULL_DATABASE</code> role cause Data Pump Import to attempt to create the schema and then import that schema's objects. Import schemas that do not have the <code>IMP_FULL_DATABASE</code> role can only import their own schema from the dump file set.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r13c1-t5" headers="r1c1-t5">
<pre>
GRANTS
</pre></td>
<td class="cellalignment1396" headers="r13c1-t5 r1c2-t5">
<p>If original Import used <code>GRANTS=n</code>, then Data Pump Import uses the <code>EXCLUDE=OBJECT_GRANT</code> parameter.</p>
<p>If original Import used <code>GRANTS=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Import default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r14c1-t5" headers="r1c1-t5">
<pre>
IGNORE
</pre></td>
<td class="cellalignment1396" headers="r14c1-t5 r1c2-t5">
<p>If original Import used <code>IGNORE=y</code>, then Data Pump Import uses the <code>TABLE_EXISTS_ACTION=APPEND</code> parameter. This causes the processing of table data to continue.</p>
<p>If original Import used <code>IGNORE=n</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Import default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r15c1-t5" headers="r1c1-t5">
<pre>
INDEXES
</pre></td>
<td class="cellalignment1396" headers="r15c1-t5 r1c2-t5">
<p>If original Import used <code>INDEXES=n</code>, then Data Pump Import uses the <code>EXCLUDE=INDEX</code> parameter.</p>
<p>If original Import used <code>INDEXES=y</code>, then the parameter is ignored and does not need to be remapped because that is the Data Pump Import default behavior.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r16c1-t5" headers="r1c1-t5">
<p><code>INDEXFILE</code></p>
</td>
<td class="cellalignment1396" headers="r16c1-t5 r1c2-t5">
<p>The Data Pump Import <code>SQLFILE={directory-object:}filename</code> and <code>INCLUDE=INDEX</code> parameters are used.</p>
<p>The same method and attempts made when looking for a directory object described for the <code>FILE</code> parameter also take place for the <code>INDEXFILE</code> parameter.</p>
<p>If no directory object was specified on the original Import, then Data Pump Import uses the directory object specified with the <code>DIRECTORY</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r17c1-t5" headers="r1c1-t5">
<p><code>LOG</code></p>
</td>
<td class="cellalignment1396" headers="r17c1-t5 r1c2-t5">
<p>Data Pump Import attempts to determine the path that was specified or defaulted to for the <code>LOG</code> parameter, and also to determine whether a directory object exists to which the schema has read and write access.</p>
<p>See <a href="#CHDFGAJF">"Management of File Locations in Data Pump Legacy Mode"</a> for more information about how Data Pump handles the original Import <code>LOG</code> parameter.</p>
<p>The contents of the log file will be those of a Data Pump Import operation. See <a href="#CHDHJDJI">"Log Files"</a> for information about log file location and content.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r18c1-t5" headers="r1c1-t5">
<pre>
RECORDLENGTH
</pre></td>
<td class="cellalignment1396" headers="r18c1-t5 r1c2-t5">
<p>This parameter is ignored because Data Pump handles issues about record length internally.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r19c1-t5" headers="r1c1-t5">
<pre>
RESUMABLE
</pre></td>
<td class="cellalignment1396" headers="r19c1-t5 r1c2-t5">
<p>This parameter is ignored because this functionality is automatically provided for users who have been granted the <code>IMP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r20c1-t5" headers="r1c1-t5">
<pre>
RESUMABLE_NAME
</pre></td>
<td class="cellalignment1396" headers="r20c1-t5 r1c2-t5">
<p>This parameter is ignored because this functionality is automatically provided for users who have been granted the <code>IMP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r21c1-t5" headers="r1c1-t5">
<pre>
RESUMABLE_TIMEOUT
</pre></td>
<td class="cellalignment1396" headers="r21c1-t5 r1c2-t5">
<p>This parameter is ignored because this functionality is automatically provided for users who have been granted the <code>IMP_FULL_DATABASE</code> role.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r22c1-t5" headers="r1c1-t5">
<pre>
ROWS=N
</pre></td>
<td class="cellalignment1396" headers="r22c1-t5 r1c2-t5">
<p>If original Import used <code>ROWS=n</code>, then Data Pump Import uses the <code>CONTENT=METADATA_ONLY</code> parameter.</p>
<p>If original Import used <code>ROWS=y</code>, then Data Pump Import uses the <code>CONTENT=ALL</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r23c1-t5" headers="r1c1-t5">
<pre>
SHOW
</pre></td>
<td class="cellalignment1396" headers="r23c1-t5 r1c2-t5">
<p>If <code>SHOW=y</code> is specified, then the Data Pump Import <code>SQLFILE=[directory_object:]file_name</code> parameter is used to write the DDL for the import operation to a file. Only the DDL (not the entire contents of the dump file) is written to the specified file. (Note that the output is not shown on the screen as it was in original Import.)</p>
<p>The name of the file will be the file name specified on the <code>DUMPFILE</code> parameter (or on the original Import <code>FILE</code> parameter, which is remapped to <code>DUMPFILE</code>). If multiple dump file names are listed, then the first file name in the list is used. The file will be located in the directory object location specified on the <code>DIRECTORY</code> parameter or the directory object included on the <code>DUMPFILE</code> parameter. (Directory objects specified on the <code>DUMPFILE</code> parameter take precedence.)</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r24c1-t5" headers="r1c1-t5">
<pre>
STATISTICS
</pre></td>
<td class="cellalignment1396" headers="r24c1-t5 r1c2-t5">
<p>This parameter is ignored because statistics are always saved for tables as part of a Data Pump Import operation.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r25c1-t5" headers="r1c1-t5">
<pre>
STREAMS_CONFIGURATION
</pre></td>
<td class="cellalignment1396" headers="r25c1-t5 r1c2-t5">
<p>This parameter is ignored because Data Pump Import automatically determines it; it does not need to be specified.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r26c1-t5" headers="r1c1-t5">
<pre>
STREAMS_INSTANTIATION
</pre></td>
<td class="cellalignment1396" headers="r26c1-t5 r1c2-t5">
<p>This parameter is ignored because Data Pump Import automatically determines it; it does not need to be specified</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r27c1-t5" headers="r1c1-t5">
<p><code>TABLESPACES</code></p>
</td>
<td class="cellalignment1396" headers="r27c1-t5 r1c2-t5">
<p>If original Import also specified <code>TRANSPORT_TABLESPACE=n</code> (the default), then Data Pump Import ignores the <code>TABLESPACES</code> parameter.</p>
<p>If original Import also specified <code>TRANSPORT_TABLESPACE=y</code>, then Data Pump Import takes the names supplied for this <code>TABLESPACES</code> parameter and applies them to the Data Pump Import <code>TRANSPORT_TABLESPACES</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r28c1-t5" headers="r1c1-t5">
<pre>
TOID_NOVALIDATE
</pre></td>
<td class="cellalignment1396" headers="r28c1-t5 r1c2-t5">
<p>This parameter is ignored. OIDs are no longer used for type validation.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r29c1-t5" headers="r1c1-t5">
<p><code>TOUSER</code></p>
</td>
<td class="cellalignment1396" headers="r29c1-t5 r1c2-t5">
<p>The Data Pump Import <code>REMAP_SCHEMA</code> parameter is used. There may be more objects imported than with original Import. Also, Data Pump Import may create the target schema if it does not already exist.</p>
<p>The <code>FROMUSER</code> parameter must also have been specified in original Import or the operation will fail.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r30c1-t5" headers="r1c1-t5">
<p><code>TRANSPORT_TABLESPACE</code></p>
</td>
<td class="cellalignment1396" headers="r30c1-t5 r1c2-t5">
<p>The <code>TRANSPORT_TABLESPACE</code> parameter is ignored, but if you also specified the <code>DATAFILES</code> parameter, then the import job continues to load the metadata. If the <code>DATAFILES</code> parameter is not specified, then an <code>ORA-39002:invalid operation</code> error message is returned.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r31c1-t5" headers="r1c1-t5">
<pre>
TTS_OWNERS 
</pre></td>
<td class="cellalignment1396" headers="r31c1-t5 r1c2-t5">
<p>This parameter is ignored because this information is automatically stored in the Data Pump dump file set.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r32c1-t5" headers="r1c1-t5">
<pre>
VOLSIZE
</pre></td>
<td class="cellalignment1396" headers="r32c1-t5 r1c2-t5">
<p>When the original Import <code>VOLSIZE</code> parameter is used, it means the location specified for the dump file is a tape device. The Data Pump Import dump file format does not support tape devices. Therefore, this operation terminates with an error.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformalwide" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFGAJF"></a>
<div id="SUTIL963" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Management of File Locations in Data Pump Legacy Mode</h2>
<p>Original Export and Import and Data Pump Export and Import differ on where dump files and log files can be written to and read from because the original version is client-based and Data Pump is server-based.</p>
<p>Original Export and Import use the <code>FILE</code> and <code>LOG</code> parameters to specify dump file and log file names, respectively. These file names always refer to files local to the client system and they may also contain a path specification.</p>
<p>Data Pump Export and Import use the <code>DUMPFILE</code> and <code>LOGFILE</code> parameters to specify dump file and log file names, respectively. These file names always refer to files local to the server system and cannot contain any path information. Instead, a directory object is used to indirectly specify path information. The path value defined by the directory object must be accessible to the server. The directory object is specified for a Data Pump job through the <code>DIRECTORY</code> parameter. It is also possible to prepend a directory object to the file names passed to the <code>DUMPFILE</code> and <code>LOGFILE</code> parameters. For privileged users, Data Pump supports the use of a default directory object if one is not specified on the command line. This default directory object, <code>DATA_PUMP_DIR</code>, is set up at installation time.</p>
<p>If Data Pump legacy mode is enabled and the original Export <code>FILE=</code><code><span class="codeinlineitalic">filespec</span></code> parameter and/or <code>LOG=</code><code><span class="codeinlineitalic">filespec</span></code> parameter are present on the command line, then the following rules of precedence are used to determine a file's location:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the <code>FILE</code> parameter and <code>LOG</code> parameter are both present on the command line, then the rules of precedence are applied separately to each parameter.
<p>Also, when a mix of original Export/Import and Data Pump Export/Import parameters are used, separate rules apply to them. For example, suppose you have the following command:</p>
<pre>
expdp system FILE=/user/disk/foo.dmp LOGFILE=foo.log DIRECTORY=dpump_dir
</pre>
<p>The Data Pump legacy mode file management rules, as explained in this section, would apply to the <code>FILE</code> parameter. The normal (that is, non-legacy mode) Data Pump file management rules, as described in <a href="dp_overview.htm#i1009520">"Default Locations for Dump, Log, and SQL Files"</a>, would apply to the <code>LOGFILE</code> parameter.</p>
</div>
<ol>
<li>
<p>If a path location is specified as part of the file specification, then Data Pump attempts to look for a directory object accessible to the schema executing the export job whose path location matches the path location of the file specification. If such a directory object cannot be found, then an error is returned. For example, assume that a server-based directory object named <code>USER_DUMP_FILES</code> has been defined with a path value of <code>'/disk1/user1/dumpfiles/'</code> and that read and write access to this directory object has been granted to the <code>hr</code> schema. The following command causes Data Pump to look for a server-based directory object whose path value contains <code>'/disk1/user1/dumpfiles/'</code> and to which the <code>hr</code> schema has been granted read and write access:</p>
<pre>
expdp hr FILE=/disk1/user1/dumpfiles/hrdata.dmp
</pre>
<p>In this case, Data Pump uses the directory object <code>USER_DUMP_FILES</code>. The path value, in this example <code>'/disk1/user1/dumpfiles/'</code>, must refer to a path on the server system that is accessible to the Oracle Database.</p>
<p>If a path location is specified as part of the file specification, then any directory object provided using the <code>DIRECTORY</code> parameter is ignored. For example, if the following command is issued, then Data Pump does not use the <code>DPUMP_DIR</code> directory object for the file parameter, but instead looks for a server-based directory object whose path value contains <code>'/disk1/user1/dumpfiles/'</code> and to which the <code>hr</code> schema has been granted read and write access:</p>
<pre>
expdp hr FILE=/disk1/user1/dumpfiles/hrdata.dmp DIRECTORY=dpump_dir
</pre></li>
<li>
<p>If no path location is specified as part of the file specification, then the directory object named by the <code>DIRECTORY</code> parameter is used. For example, if the following command is issued, then Data Pump applies the path location defined for the <code>DPUMP_DIR</code> directory object to the <code>hrdata.dmp</code> file:</p>
<pre>
expdp hr FILE=hrdata.dmp DIRECTORY=dpump_dir
</pre></li>
<li>
<p>If no path location is specified as part of the file specification and no directory object is named by the <code>DIRECTORY</code> parameter, then Data Pump does the following, in the order shown:</p>
<ol>
<li>
<p>Data Pump looks for the existence of a directory object of the form <code>DATA_PUMP_DIR_</code><code><span class="codeinlineitalic">schema_name</span></code>, where <code><span class="codeinlineitalic">schema_name</span></code> is the schema that is executing the Data Pump job. For example, the following command would cause Data Pump to look for the existence of a server-based directory object named <code>DATA_PUMP_DIR_HR</code>:</p>
<pre>
expdp hr FILE=hrdata.dmp
</pre>
<p>The <code>hr</code> schema also must have been granted read and write access to this directory object. If such a directory object does not exist, then the process moves to step b.</p>
</li>
<li>
<p>Data Pump looks for the existence of the client-based environment variable <code>DATA_PUMP_DIR</code>. For instance, assume that a server-based directory object named <code>DUMP_FILES1</code> has been defined and the <code>hr</code> schema has been granted read and write access to it. Then on the client system, the environment variable <code>DATA_PUMP_DIR</code> can be set to point to <code>DUMP_FILES1</code> as follows:</p>
<pre>
setenv DATA_PUMP_DIR DUMP_FILES1
expdp hr FILE=hrdata.dmp
</pre>
<p>Data Pump then uses the served-based directory object <code>DUMP_FILES1</code> for the <code>hrdata.dmp</code> file.</p>
<p>If a client-based environment variable <code>DATA_PUMP_DIR</code> does not exist, then the process moves to step c.</p>
</li>
<li>
<p>If the schema that is executing the Data Pump job has DBA privileges, then the default Data Pump directory object, <code>DATA_PUMP_DIR</code>, is used. This default directory object is established at installation time. For example, the following command causes Data Pump to attempt to use the default <code>DATA_PUMP_DIR</code> directory object, assuming that system has DBA privileges:</p>
<pre>
expdp system FILE=hrdata.dmp
</pre></li>
</ol>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dp_overview.htm#i1009520">"Default Locations for Dump, Log, and SQL Files"</a> for information about Data Pump file management rules of precedence under normal Data Pump conditions (that is, non-legacy mode)</div>
</div>
<!-- class="sect1" -->
<a id="CHDJJFFD"></a>
<div id="SUTIL964" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adjusting Existing Scripts for Data Pump Log Files and Errors</h2>
<p>Data Pump legacy mode requires that you review and update your existing scripts written for original Export and Import because of differences in file format and error reporting.</p>
<a id="CHDHJDJI"></a>
<div id="SUTIL965" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Log Files</h3>
<p>Data Pump Export and Import do not generate log files in the same format as those created by original Export and Import. Any scripts you have that parse the output of original Export and Import must be updated to handle the log file format used by Data Pump Export and Import. For example, the message <code>Successfully Terminated</code> does not appear in Data Pump log files.</p>
</div>
<!-- class="sect2" -->
<div id="SUTIL966" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref363"></a>
<h3 class="sect2">Error Cases</h3>
<p>Data Pump Export and Import may not produce the same errors as those generated by original Export and Import. For example, if a parameter that is ignored by Data Pump Export would have had an out-of-range value in original Export, then an informational message is written to the log file stating that the parameter is being ignored. No value checking is performed, therefore no error message is generated.</p>
</div>
<!-- class="sect2" -->
<div id="SUTIL967" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref364"></a>
<h3 class="sect2">Exit Status</h3>
<p>Data Pump Export and Import have enhanced exit status values to allow scripts to better determine the success of failure of export and import jobs. Any scripts that look at the exit status should be reviewed and updated, if necessary.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1387">
<tr>
<td class="cellalignment1396">
<table class="cellalignment1392">
<tr>
<td class="cellalignment1391"><a href="dp_import.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1391"><a href="dp_perf.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1398">
<table class="cellalignment1390">
<tr>
<td class="cellalignment1391"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1391"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1391"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1391"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1391"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1391"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
